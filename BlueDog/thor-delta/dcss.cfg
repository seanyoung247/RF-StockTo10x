
// Daleth-III-DHSS 2.5m Interstage - (bluedog_DCSS_Interstage)
@PART[bluedog_DCSS_Interstage]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @mass *= 1.6
    %rescaleFactor = 1.6
    @title = Daleth-III-DHSS 4m Interstage
	@description = 4m Interstage decoupler for the Daleth Hydrogen Second Stage. Attach to the bottom of the DHSS's hydrogen tank.
	@bulkheadProfiles = size3p5
    
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchDiameter]]
    {
        @SUBTYPE[2.5m]
        {
			@name = 4m
		}
		@SUBTYPE[1.875m]
        {
            @name = 3m
		}
		@SUBTYPE[3.125m]
        {
            @name = 5m
		}
		@SUBTYPE[3.125m??Alt?]
        {
            @name = 5m (Alt)
		}
		@SUBTYPE[3.125m??Delta?IV?]
        {
            @name = 5m (Delta IV)
		}
    }
    
	-MODULE[TweakScale],* {}
}

// SXA 0.9375m Payload Adapter - (bluedog_DCSS_PayloadAdapter_0p9375m)
@PART[bluedog_DCSS_PayloadAdapter_0p9375m]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @mass *= 1.6
    %rescaleFactor = 1.6
    @bulkheadProfiles = size1p2
    @title = SXA 1.5m Payload Adapter
    
	-MODULE[TweakScale],* {}
}

// SGA 1.875m Payload Adapter - (bluedog_DCSS_PayloadAdapter_1p875m)
// SPA 2.5m Payload Adapter - (bluedog_DCSS_PayloadAdapter_2p5m)
@PART[bluedog_DCSS_PayloadAdapter_1p875m,bluedog_DCSS_PayloadAdapter_2p5m]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @mass *= 1.6
    %rescaleFactor = 1.6
    @bulkheadProfiles = size2p5
    @title = SGA 3m Payload Adapter

    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchDiameter]]
    {
        @SUBTYPE[0.625m]
        {
            @name = 1m
        }
        @SUBTYPE[0.9375m]
        {
            @name = 1.5m
        }
        @SUBTYPE[1.25m]
        {
            @name = 2m
        }
    }
    -MODULE[TweakScale] {}
}
@PART[bluedog_DCSS_PayloadAdapter_2p5m]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @bulkheadProfiles = size3p5
    @title = SPA 4m Payload Adapter
}

// Daleth-III-DHSS 3.125-2.5m Structural Adapter - (bluedog_DCSS_StructAdapter)
@PART[bluedog_DCSS_StructAdapter]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @mass *= 1.6
    %rescaleFactor = 1.6
    @title = Daleth-III-DHSS 5-4m Structural Adapter
	@description = A series of 5m to 4m adapters made from surplus DHSS interstages. We're sure you can find many uses for these.
	@bulkheadProfiles = size4, size3p5

    -MODULE[TweakScale] {}
}

// Daleth-III-DHSS Cryogenic Upper Stage - (bluedog_DCSS_Tank)
@PART[bluedog_DCSS_Tank]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x]
{
    @mass = 2.48
    %rescaleFactor = 1.6
    @bulkheadProfiles = size4, size3p5, srf

    MODULE
	{
		name = ModuleFuelTanks
        volume = 45000
		// @volume = #$/RESOURCE[LqdHydrogen]/maxAmount$
		// @volume += #$/RESOURCE[Oxidizer]/maxAmount$
		// @volume *= 5
		// @volume *= 4.096	//1.6^3 2480
		type = Cryogenic
	}

    @MODULE[ModuleRCSFX],*
    {
        @resourceName = Hydrazine
        @atmosphereCurve
		{
			@key,0 = 0 220
		}
    }

    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[volumeSwitch]]
    {
		@SUBTYPE[Delta?IV??4m?]
		{
            MODULE
            {
                IDENTIFIER
                {
                    name = ModuleFuelTanks
                }
                DATA
                {
                    volume = 195379
                }
            }
			@addedMass = 0.37
        }
	}

 	!RESOURCE[*],* {}
    RESOURCE 
    {
        name = Hydrazine
        amount = 820
        maxAmount = 820
    }
 	-MODULE[TweakScale],* {}
}

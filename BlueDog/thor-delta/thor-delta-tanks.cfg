
// Fenris-1400/1560 Upper Liquid Fuel Tank - (bluedog_Thor_UpperTank_1)
// Fenris-1400/2040/2600 Lower Liquid Fuel Tank - (bluedog_Thor_LowerTank_1)
// @PART[bluedog_Thor_UpperTank_1,bluedog_Thor_LowerTank_1]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
//     @mass *= 1.6
// 	%rescaleFactor = 1.6
//     @bulkheadProfiles = size2
//     @description = Standard length tank for 2.4m launcher configurations.
//     // Fixes position of top and bottom nodes.
//     @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLength]] {
//         -parentID = NONE
//         @SUBTYPE,* {
//             @NODE,* {
//                 @position[1] /= 1.6
//             }
//         }
//     }
// }
// @PART[bluedog_Thor_UpperTank_1]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {

// @PART[bluedog_Thor_UpperTank_1,bluedog_Thor_LowerTank_1]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
//     //@description = Standard length tank for 2.4m launcher configurations.

//     @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLength]] {
//         -parentID = NONE
//         @SUBTYPE,* {
//             @NODE,* {
//                 @position[1] /= 1.6
//             }
//         }
//         @SUBTYPE:HAS[#volumeAddedToParent[>0]] {
//             MODULE {
//                 IDENTIFIER {
//                     name = ModuleFuelTanks
//                 }
//                 DATA {
//                     // volume = #$../../volumeAddedToParent$
//                     // @volume *= 5
// 		            // @volume *= 4.096	//1.6^3
//                     // @volume += #$/MODULE[ModuleFuelTanks]/volume$
//                    // utilization = 50
//                 }
//             }
//         }
//         @SUBTYPE:HAS[#volumeAddedToParent[>0]] {
//             !volumeAddedToParent = NONE
//         }
//     }
// }


// Fenris-1400/1560 Upper Liquid Fuel Tank - (bluedog_Thor_UpperTank_1)
// Fenris-1400/2040/2600 Lower Liquid Fuel Tank - (bluedog_Thor_LowerTank_1)

@PART[bluedog_Thor_UpperTank_1]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
    @description = Standard length tank for 2.4m launcher configurations.

    @mass *= 1.6
	%rescaleFactor = 1.6
    @bulkheadProfiles = size2
	
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLength]] {
        -parentID = NONE
        @SUBTYPE,* {
            @NODE,* {
                @position[1] /= 1.6
            }
        }
        @SUBTYPE:HAS[#volumeAddedToParent[>0]] {
            @volumeAddedToParent *= 20.48
        }
    }
	
	!RESOURCE[*],* {}
	-MODULE[TweakScale],* {}
}
// @PART[bluedog_Thor_UpperTank_1,bluedog_Thor_LowerTank_1]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {

// }

// Fenris-X800 Liquid Fuel Tank - (bluedog_Thor_MediumExtensionTank)
// Fenris-X400 Liquid Fuel Tank - (bluedog_Thor_ShortExtensionTank)
@PART[bluedog_Thor_MediumExtensionTank,bluedog_Thor_ShortExtensionTank]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
	@mass *= 1.6
	%rescaleFactor = 1.6
    @bulkheadProfiles = size2
	
	MODULE {
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Structural
	}
	
	!RESOURCE[*],* {}
	-MODULE[TweakScale],* {}
}
@PART[bluedog_Thor_MediumExtensionTank]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
    @description = Spare parts from the Fenris factory. Medium length tank for 2.4m launcher configurations.
}
@PART[bluedog_Thor_ShortExtensionTank]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
    @description = Spare parts from the Fenris factory. Short length tank for 2.4m launcher configurations.
}

// Fenris-600 Upper Liquid Fuel Tank - (bluedog_Thor_1p25mAdapter_Long)
// Fenris-X360 Liquid Fuel Tank Adapter - (bluedog_Thor_1p25mAdapter_Medium)
@PART[bluedog_Thor_1p25mAdapter_Long,bluedog_Thor_1p25mAdapter_Medium]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
	@mass *= 1.6
	%rescaleFactor = 1.6
    @bulkheadProfiles = size2, size2p5
    @title = Fenris-600 Upper Liquid Fuel Tank
	@description = A long 2.4m to 2m adapter tank.
    
    MODULE {
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
        @volume *= 1.1
		type = Default
	}
	
	!RESOURCE[*],* {}
	-MODULE[TweakScale],* {}
}
@PART[bluedog_Thor_1p25mAdapter_Medium]:NEEDS[Bluedog_DB&RealFuels]:FOR[Z-RF-StockTo10x] {
	@title = Fenris-X360 Liquid Fuel Tank Adapter
	@description = Spare parts from the Fenris factory. A medium 2.4m to 2m adapter tank.
}

 //
 // Bluedog Titan configs
 //
 
 //
 // Titan I
 //
 
 //ENGINES
 
 //Prometheus LR8703-367 "Perses" Liquid Engine (bluedog_LR87_3) - Aerojet LR87-AJ3 (Titan 1 First Stage)
@PART[bluedog_LR87_3]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{ 
	@mass = 1.88		//2x engines at 0.84kg (1.68kg) + 0.2kg for thrust plate etc.
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		@name = ModuleEnginesRF
		@maxThrust = 1466
		
		@atmosphereCurve
		{
			@key,0 = 0 290
			@key,1 = 1 256
 		}

		!PROPELLANT[LiquidFuel] {}
		!PROPELLANT[Oxidizer] {}
		!PROPELLANT[MonoPropellant] {}
		
		PROPELLANT
		{
			name = Kerosene
			ratio = 1
			DrawGauge = True
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 1.37				//1.91 by mass
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
	}
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesRF
		
		origMass = #$../mass$
		modded = false
							
		configuration = LR8703-367
 	
 		CONFIG
 		{
 			name = LR8703-367
 			maxThrust = 1466
 			
 			PROPELLANT
 			{
 				name = Kerosene
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = LqdOxygen
 				ratio = 1.37				//1.91 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			
 			atmosphereCurve
			{
			 	key = 0 290
			 	key = 1 256
			 	key = 9 0.1
 			}
 			
 			ignitions = 1
 			ullage = true
 			pressureFed = false
 				
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
	}
}

 //Prometheus LR9103-133 "Leto" Liquid Engine (bluedog_LR91_3) - Aerojet LR91-AJ3 (Titan I Second Stage)
@PART[bluedog_LR91_3,bluedog_LR91_3_SingleVernier]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 0.6
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*],*
	{
 		@name = ModuleEnginesRF
 		
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 308
 			@key,1 = 1 185
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Kerosene
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = LqdOxygen
 			ratio = 1.37				//1.91 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	@MODULE[ModuleEngine*]:HAS[#thrustVectorTransformName[thrustTransform]]
 	{
 		@maxThrust = 355.9
 		%engineID = main
 	}
 	@MODULE[ModuleEngine*]:HAS[#thrustVectorTransformName[VernierTransform]]
	{
	 	@maxThrust *= 2
	 	%engineID = vernier
 	}
}

 //TITAN I SRB
@PART[bluedog_SOLTAN_NoseCone]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}

@PART[bluedog_SOLTAN_SRB]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		//@name = ModuleEnginesRF
		@maxThrust = 3330
		
		@atmosphereCurve
		{
			@key,0 = 0 260
			@key,1 = 1 235
		}
		
		@PROPELLANT[SolidFuel]
		{
			@name = PBAN
			@ratio = 1.0
			@DrawGauge = True
		}
	}

	@RESOURCE[SolidFuel]
	{
		@name = PBAN
		@amount *= 4.096
		@maxAmount *= 4.096
	}
}

@PART[bluedog_Titan1_SeparationBottle]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
		@maxThrust *= 2
		
		@atmosphereCurve
		{
			@key,0 = 0 260
			@key,1 = 1 235
		}
		
		@PROPELLANT[SolidFuel]
		{
			@name = PBAN
			@ratio = 1.0
			@DrawGauge = True
		}
	}

	@RESOURCE[SolidFuel]
	{
		@name = PBAN
		@amount *= 4.096
		@maxAmount *= 4.096
	}
}

 //STRUCTURAL PARTS
@PART[bluedog_Titan1_S1_EngineShroud,bluedog_Titan1_StructuralAdapter]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}
 
 //TANKS
@PART[bluedog_Titan1_S1_LowerTank,bluedog_Titan1_S1_UpperTank,bluedog_Titan1_S2_Tank,bluedog_Titan1_S2_ShortTank]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Default
	}
	
	!RESOURCE[*],* {}
	
	-MODULE[TweakScale],* {}
}

 //
 // Titan II
 //
 
 //ENGINES
 
 //Prometheus LR8707-548 "Pallas" Liquid Engine (bluedog_LR87_5) - Aerojet LR87-AJ5 (Titan 2 First Stage)
@PART[bluedog_LR87_5]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 1.68
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 2193.6
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 297
 			@key,1 = 1 259
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 1.98				//1.93 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = #$../mass$
 		modded = false
 							
 		configuration = LR87-AJ5

 		CONFIG
 		{
 			name = LR87-AJ5
 			maxThrust = 2193.6
 			
 			configDescription = Prometheus II First stage motor 
 
 			PROPELLANT
 			{
 				name = Aerozine50
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = NTO
 				ratio = 1.98				//1.93 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			atmosphereCurve
			{
				key = 0 297
				key = 1 259
				KEY = 9 0.1
 			}
 		
 			ignitions = 1
 			ullage = true
 			pressureFed = false
 						
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
 		CONFIG
		{
		 	name = LR87-AJ5K
		 	maxThrust = 2086.6
		 	
		 	configDescription = LR87-AJ5 reconfigured for Kerlox.
		 
		 	PROPELLANT
		 	{
		 		name = Kerosene
		 		ratio = 1
		 		DrawGauge = True
		 		resourceFlowMode = STACK_PRIORITY_SEARCH
		 	}
		 	PROPELLANT
		 	{
		 		name = LqdOxygen
		 		ratio = 1.37				//1.91 by mass
		 		resourceFlowMode = STACK_PRIORITY_SEARCH
		 	}
		 	atmosphereCurve
			{
				key = 0 302
				key = 1 264
				KEY = 9 0.1
 			}

		 	ignitions = 1
		 	ullage = true
		 	pressureFed = false
		 						
		 	IGNITOR_RESOURCE
		 	{
		 		name = ElectricCharge
		 		amount = 0.1
		 	}
 		}
 		CONFIG
		{
		 	name = LR87-AJ7
		 	maxThrust = 2172.2
		 	configDescription = Kerbal rated version.
		 
			PROPELLANT
 			{
 				name = Aerozine50
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = NTO
 				ratio = 1.98				//1.93 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			atmosphereCurve
			{
				key = 0 297
				key = 1 259
				KEY = 9 0.1
 			}

		 	ignitions = 1
		 	ullage = true
		 	pressureFed = false
		 						
		 	IGNITOR_RESOURCE
		 	{
		 		name = ElectricCharge
		 		amount = 0.1
		 	}
 		}
 	}
 	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus LR9107-167 "Lelantos" Liquid Engine (bluedog_LR91_5) - Aerojet LR91-AJ5 (Titan 2 Second Stage)
@PART[bluedog_LR91_5,bluedog_LR91_5_FourVernier]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 0.5
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*],*
	{
 		@name = ModuleEnginesRF
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 315
 			@key,1 = 1 190
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 0.97				//1.8 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	@MODULE[ModuleEnginesRF]:HAS[#thrustVectorTransformName[thrustTransform]]
 	{
 		@maxThrust = 444.8
 		%engineID = main
 	}
 	@MODULE[ModuleEngine*]:HAS[#thrustVectorTransformName[VernierTransform]]
	{
		@maxThrust *= 2
		%engineID = vernier
 	}
 	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //MOTORS
 //Prometheus-II-RGM Separation Motor (bluedog_Titan2_S2_RetroMotor)
 //Prometheus-II-VTM Velocity Adjustment Motor (bluedog_Titan2_S2_VernierMotor)
@PART[bluedog_Titan2_S2_RetroMotor,bluedog_Titan2_S2_VernierMotor]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		//@name = ModuleEnginesRF
		@maxThrust *= 3.5
		
		@PROPELLANT[SolidFuel]
		{
			@name = PBAN
			@ratio = 1.0
			@DrawGauge = True
		}
	}

	@RESOURCE[SolidFuel]
	{
		@name = PBAN
		@amount *= 4.096
		@maxAmount *= 4.096
	}
}

 //STRUCTURAL
 //Prometheus-II 1.25m Nose Cone (bluedog_Titan2_S2_NoseCone)
@PART[bluedog_Titan2_S2_NoseCone]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	 //In case I want to tweak tank volume
}
 //Prometheus-II 1.25m Structural Adapter (bluedog_Titan2_S2_1p25mAdapter)
 //Prometheus-II 1.5m Structural Adapter (bluedog_Titan2_S2_1p5mAdapter)
@PART[bluedog_Titan2_S2_1p25mAdapter,bluedog_Titan2_S2_1p5mAdapter]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}

 //DECOUPLERS
 //Prometheus 1.875m Vented Stack Decoupler (bluedog_Titan2_S2_EngineDecoupler)
 //Prometheus-LLV 1.875m Spacecraft Stack Decoupler (bluedog_Titan2_S2_GeminiDecoupler)
@PART[bluedog_Titan2_S2_EngineDecoupler,bluedog_Titan2_S2_GeminiDecoupler]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	@MODULE[ModuleDecouple]
	{
		@ejectionForce *= 2
	}
}

 //TANKS
 //Prometheus-II-1960 Liquid Fuel Tank (bluedog_Titan2_S1_Lower_Tank)
 //Prometheus-II-2480 Liquid Fuel Tank (bluedog_Titan2_S1_Upper_Tank)
 //Prometheus-II-1160 Liquid Fuel Tank (bluedog_Titan2_S2_Tank)
@PART[bluedog_Titan2_S1_Lower_Tank,bluedog_Titan2_S1_Upper_Tank,bluedog_Titan2_S2_Tank]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Default
	}
	
	!RESOURCE[*],* {}
	
	-MODULE[TweakScale],* {}
}
 
 //
 // Titan III/IV
 //
 
 //ENGINES
 
 //Prometheus LR8711-605 "Astreous" Liquid Engine (bluedog_LR87_11) - Aerojet LR87-AJ11 (Titan 3/4 First Stage)
@PART[bluedog_LR87_11]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 1.68
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 2413.2
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 304
 			@key,1 = 1 252
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 1.98				//1.93 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = #$../mass$
 		modded = false
 							
 		configuration = LR87-AJ11a

 		CONFIG
		{
			name = LR87-AJ11a
			maxThrust = 2413.2
		
			PROPELLANT
			{
				name = Aerozine50
				ratio = 1
				DrawGauge = True
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			PROPELLANT
			{
				name = NTO
				ratio = 1.98				//1.93 by mass
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			atmosphereCurve
			{
				key = 0 304
				key = 1 252
				KEY = 9 0.1
 			}
		
		 	ignitions = 1
		 	ullage = true
		 	pressureFed = false
				 						
		 	IGNITOR_RESOURCE
		 	{
		 		name = ElectricCharge
		 		amount = 0.1
		 	}
 		}
 	}
 
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus LR9111-177 "Asteria" Liquid Engine (bluedog_LR91_11) - Aerojet LR91-AJ11 (Titan 3/4 Second Stage)
@PART[bluedog_LR91_11,bluedog_LR91_11_FourVernier]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 5.9
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*],*
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 467
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 316
 			@key,1 = 1 160
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 0.97				//1.8 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	@MODULE[ModuleEngine*]:HAS[#thrustVectorTransformName[VernierTransform]]
	{
		@maxThrust = 467
		%engineID = main
 	}
 	@MODULE[ModuleEngine*]:HAS[#thrustVectorTransformName[VernierTransform]]
	{
		@maxThrust *= 2
		%engineID = vernier
 	}

 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //SOLID BOOSTERS
 //Prometheus SRB-U50 "Ersa" Solid Rocket Booster Upgrade (bluedog_SRMU_Half)
 //Prometheus SRB-U100 "Pandia" Solid Rocket Booster Upgrade (bluedog_SRMU_Single)
 //Prometheus SRB-U200 "Antiochis" Solid Rocket Booster Upgrade (bluedog_SRMU_TwoSeg)
 //Prometheus SRB-U250 "Selene" Solid Rocket Booster Upgrade (bluedog_SRMU_Full)
 //Prometheus SRB-U300 "Nemea" Solid Rocket Booster Upgrade (bluedog_SRMU_XL)
@PART[bluedog_SRMU_Half,bluedog_SRMU_Single,bluedog_SRMU_TwoSeg,bluedog_SRMU_Full,bluedog_SRMU_XL]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	mass *= 3.5
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		//@name = ModuleEnginesRF
		@maxThrust *= 3.5
		
		@atmosphereCurve
		{
			@key,0 = 0 286
			@key,1 = 1 260
		}
		
		@PROPELLANT[SolidFuel]
		{
			@name = PBAN
			@ratio = 1.0
			@DrawGauge = True
		}
	}

	@RESOURCE[SolidFuel]
	{
		@name = PBAN		
		@amount *= 25
		@maxAmount *= 25
	}
 	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus SRB1202 "Los" Solid Rocket Booster (bluedog_UA1202)
 //Prometheus SRB1203 "Heliades" Solid Rocket Booster (bluedog_UA1203)
 //Prometheus SRB1204 "Hekatos" Solid Rocket Booster (bluedog_UA1204)
 //Prometheus SRB1205 "Eos" Solid Rocket Booster (bluedog_UA1205)
 //Prometheus SRB1206 "Eurus" Solid Rocket Booster (bluedog_UA1206)
 //Prometheus SRB1207 "Helios" Solid Rocket Booster (bluedog_UA1207)
 //Prometheus SRB1208 "Phaeton" Solid Rocket Booster (bluedog_UA1208)
@PART[bluedog_UA1202,bluedog_UA1203,bluedog_UA1204,bluedog_UA1205,bluedog_UA1206,bluedog_UA1207,bluedog_UA1208]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	mass *= 4
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]:HAS[#engineID[S1SRB]]
	{
		@maxThrust *= 4.5
		
		@atmosphereCurve
		{
			@key,0 = 0 286
			@key,1 = 1 260
		}
		
		@PROPELLANT[SolidFuel]
		{
			@name = PBAN
			@ratio = 1.0
			@DrawGauge = True
		}
	}
	 //What the fuck is this anyway?
	-MODULE[ModuleEngine*]:HAS[#engineID[S1SRB_Abort]] {}

	@RESOURCE[SolidFuel]
	{
		@name = PBAN		
		@amount *= 25
		@maxAmount *= 25
	}
 	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus-KRU Landing Recovery Parachute (bluedog_Titan_SRB_Parachute)
@PART[bluedog_Titan_SRB_Parachute]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}

 //AVIONICS
 //Prometheus-ACU Avionics Unit (bluedog_Titan3_AvionicsTruss)
@PART[bluedog_Titan3_AvionicsTruss]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	 //Increase tank capacity
}

 //FAIRINGS - Fairings seem to get screwed up, I'll have to workout what's wrong.
 //Prometheus-III/COMM 2.5m Fairing Base Adapter (bluedog_Titan3_CommercialPLF)
 //Prometheus-IIIE 2.6m Fairing Base Adapter (bluedog_Titan3E_PLF)
 //Prometheus-IV 3.125m Fairing Base Adapter (bluedog_Titan4_PLF)
//@PART[bluedog_Titan3_CommercialPLF,bluedog_Titan3E_PLF,bluedog_Titan4_PLF]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
//{
//	%rescaleFactor = 1.6
//	
//	@MODULE[ModuleProceduralFairing]
//	{
//		baseRadius *= 1.6
//		maxRadius *= 1.6
//	}
//}

 //SHROUDS
 //Prometheus-III-EHS Engine Shroud (bluedog_Titan3_S1_EngineShroud)
@PART[bluedog_Titan_SRB_Parachute]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}

 //TANKS
 //Prometheus-III-3080 Liquid Fuel Tank (bluedog_Titan3_S1_Stretched_Tank)
 //Prometheus-IV-1400 Liquid Fuel Tank (bluedog_Titan4_S2_Tank)
 //Prometheus-IV-2740 Liquid Fuel Tank (bluedog_Titan4_S1_Lower_Tank)
@PART[bluedog_Titan3_S1_Stretched_Tank,bluedog_Titan4_S2_Tank,bluedog_Titan4_S1_Lower_Tank]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Default
	}
	
	!RESOURCE[*],* {}
	
	-MODULE[TweakScale],* {}
}

 //RCS
 //Prometheus-IIG-ACS Control Pack (bluedog_Titan23G_ACS)
@PART[bluedog_Titan23G_ACS]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
 	
 	@MODULE[ModuleRCSFX],*
 	{
 		!resourceName = DELETE
 		!PROPELLANT[*],* {}
 		PROPELLANT
 		{
 			name = Aerozine50
 		 	ratio = 1
 			DrawGauge = True
 		 	resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 0.97				//1.8 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
  		}
 	}
 	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[MonoPropellant]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Default
	}
	
	!RESOURCE[*],* {}
}

 //
 // Titan LDC
 //
 
 //TANKS
 //Herakles-LF13400 Liquid Fuel Tank (bluedog_LDC_S1_Tank1)
 //Herakles-LF10000 Liquid Fuel Tank (bluedog_LDC_S1_Tank2)
 //Herakles-LF5700 Liquid Fuel Tank (bluedog_LDC_S2_Tank1)
 //Herakles-LF3300 Liquid Fuel Tank (bluedog_LDC_S2_Tank2)
@PART[bluedog_LDC_S*_Tank*]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 0
		@volume = #$/RESOURCE[LiquidFuel]/maxAmount$
		@volume += #$/RESOURCE[Oxidizer]/maxAmount$
		@volume *= 5
		@volume *= 4.096	//1.6^3
		type = Default
	}
	
	!RESOURCE[*],* {}
	
	-MODULE[TweakScale],* {}
}

 //AVIONICS
 //Herakles-ACT 3.125m Avionics Unit (bluedog_LDC_S2_Avionics)
@PART[bluedog_LDC_S2_Avionics]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}

 //INTERSTAGE
 //Herakles-S2SIA5 Interstage (bluedog_LDC_S2_ShortInterstage)
 //Herakles-S2SIA Interstage (bluedog_LDC_S2_Interstage)
@PART[bluedog_LDC_S2_ShortInterstage,bluedog_LDC_S2_Interstage]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	@MODULE[ModuleDecouple] 
	{
		@ejectionForce *= 2
	}
}

 //STRUCTURAL
 //Herakles-SAC 1.875m Structural Adapter (bluedog_LDC_1p875mAdapter)
 //Herakles-SAA 2.5m Structural Adapter (bluedog_LDC_2p5mAdapter)
 //Herakles-SAB 3.75m Structural Adapter (bluedog_LDC_375mAdapter)
 //Herakles-ANC 3.125m Nose Cone (bluedog_LDC_NoseCone)
 //Herakles-EM1S Engine Mount (bluedog_LDC_S1_EngineMount)
 //Herakles-S2MFYE Engine Mount (bluedog_LDC_S2_EngineMount)
@PART[bluedog_LDC_*Adapter,bluedog_LDC_NoseCone,bluedog_LDC_S*_EngineMount]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
}
 
 //
 // Titan upperstages
 //
 
 //Prometheus-III-S3 "Metis" Upper Stage (bluedog_Titan_Transtage)
@PART[bluedog_Titan_Transtage]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 1.95
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 72
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 311
 			@key,1 = 1 275
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 0.97				//1.8 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = 1.0
 		modded = false
 							
 		configuration = T-51

 		CONFIG
 		{
 			name = T-51
 			maxThrust = 72
 
 			PROPELLANT
 			{
 				name = Aerozine50
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = NTO
 				ratio = 0.97				//1.8 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			atmosphereCurve
			{
				key = 0 311
				key = 1 275
				KEY = 9 0.1
 			}
 		
 			ignitions = 4
 			ullage = false
 			pressureFed = true
 						
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
 	}
 	
 	MODULE
	{
		name = ModuleFuelTanks
		volume = 8207
		type = ServiceModule
	}
	
	!RESOURCE[MonoPropellant] {} 	
 	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus-III-S3 RCA Control System (bluedog_Titan_Transtage_RCS_A)
 //Prometheus-III-S3 RCB Control System (bluedog_Titan_Transtage_RCS_B)
 //Prometheus-III-S3 RCC Control System (bluedog_Titan_Transtage_RCS_C)
 //Prometheus-III-S3 RCD Control System (bluedog_Titan_Transtage_RCS_D)
 //Prometheus-III-S3 RCE Control System (bluedog_Titan_Transtage_RCS_E)
@PART[bluedog_Titan_Transtage_RCS_A,bluedog_Titan_Transtage_RCS_B,bluedog_Titan_Transtage_RCS_C,bluedog_Titan_Transtage_RCS_D,bluedog_Titan_Transtage_RCS_E]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	%rescaleFactor = 1.6
	
	@MODULE[ModuleRCSFX],*
	{
		!resourceName = DELETE
		!PROPELLANT[*],* {}
		PROPELLANT
		{
			name = Aerozine50
		 	ratio = 1
			DrawGauge = True
		 	resourceFlowMode = STACK_PRIORITY_SEARCH
		}
		PROPELLANT
		{
			name = NTO
			ratio = 1.8
			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
	}
}

 //
 // Titan I Derivatives
 //
 
 //ENGINES
 
 //Prometheus RB-1E471 "Cordele" Rocket Engine (bluedog_E1)
@PART[bluedog_E1]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 1.0
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 1884.59
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 290
 			@key,1 = 1 260
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Kerosene
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = LqdOxygen
 			ratio = 1.37				//1.91 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = 1.0
 		modded = false
 							
 		configuration = RB-1E471
 	
 		CONFIG
 		{
 			name = RB-1E471
 			maxThrust = 1884.59
 			
 			PROPELLANT
 			{
 				name = Kerosene
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = LqdOxygen
 				ratio = 1.37				//1.91 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			
 			atmosphereCurve
			{
			 	key = 0 290
			 	key = 1 260
			 	key = 9 0.1
 			}
 			
 			ignitions = 1
 			ullage = true
 			pressureFed = false
 				
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
 	}
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}
 
 //Prometheus LE87H2-SL "Perseus" Cryogenic Engine (bluedog_LR87_LH2_SL) - Aerojet LR87-LH2 Sea Level
@PART[bluedog_LR87_LH2_SL]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{ 
	@mass = 0.7
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		@name = ModuleEnginesRF
		@maxThrust = 667
		
		@atmosphereCurve
		{
			@key,0 = 0 451
			@key,1 = 1 350
 		}

		!PROPELLANT[LiquidFuel] {}
		!PROPELLANT[Oxidizer] {}
		!PROPELLANT[MonoPropellant] {}
		
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 1
			DrawGauge = True
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.34				//5.5 by mass
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
	}
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesRF
		
		origMass = #$../mass$
		modded = false
							
		configuration = LE87H2-SL
 	
 		CONFIG
 		{
 			name = LE87H2-SL
 			maxThrust = 667
 			
 			PROPELLANT
 			{
 				name = LqdHydrogen
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = LqdOxygen
 				ratio = 0.34				//5.5 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			
 			atmosphereCurve
			{
			 	key = 0 451	//465
			 	key = 1 350	//160
			 	key = 9 0.1
 			}
 			
 			ignitions = 1
 			ullage = true
 			pressureFed = false
 				
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
	}

 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus LE87H2-V "Perseus" Cryogenic Engine (bluedog_LR87_LH2_V) - Aerojet LR87-LH2 Vacuum
@PART[bluedog_LR87_LH2_SL]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{ 
	@mass = 0.7
	%rescaleFactor = 1.6
	@category = Engine
	
	@MODULE[ModuleEngine*]
	{
		@name = ModuleEnginesRF
		@maxThrust = 667
		
		@atmosphereCurve
		{
			@key,0 = 0 465
			@key,1 = 1 160
 		}

		!PROPELLANT[LiquidFuel] {}
		!PROPELLANT[Oxidizer] {}
		!PROPELLANT[MonoPropellant] {}
		
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 1
			DrawGauge = True
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.34				//5.5 by mass
			resourceFlowMode = STACK_PRIORITY_SEARCH
		}
	}
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesRF
		
		origMass = #$../mass$
		modded = false
							
		configuration = LE87H2-V 
 	
 		CONFIG
 		{
 			name = LE87H2-V
 			maxThrust = 667
 			
 			PROPELLANT
 			{
 				name = LqdHydrogen
 				ratio = 1
 				DrawGauge = True
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			PROPELLANT
 			{
 				name = LqdOxygen
 				ratio = 0.34				//5.5 by mass
 				resourceFlowMode = STACK_PRIORITY_SEARCH
 			}
 			
 			atmosphereCurve
			{
			 	key = 0 465
			 	key = 1 160
			 	key = 9 0.1
 			}
 			
 			ignitions = 1
 			ullage = true
 			pressureFed = false
 				
 			IGNITOR_RESOURCE
 			{
 				name = ElectricCharge
 				amount = 0.1
 			}
 		}
	}
	
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //
 // Titan IV Derivatives
 //

 //ENGINES
 
 //Prometheus LR8711V-303 "Astoria" Liquid Engine (bluedog_LR87_11_Vac) - Aerojet LR87-AJ11 Single Vacuum Optimized
@PART[bluedog_LR87_11_Vac]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 0.74
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 1206.6
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 335
 			@key,1 = 1 118
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 1.98				//1.93 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = #$../mass$
 		modded = false
 							
 		configuration = LR87-AJ11a

 		CONFIG
		{
			name = LR87-AJ11a
			maxThrust = 1206.6
		
			PROPELLANT
			{
				name = Aerozine50
				ratio = 1
				DrawGauge = True
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			PROPELLANT
			{
				name = NTO
				ratio = 1.98				//1.93 by mass
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			atmosphereCurve
			{
				key = 0 335
				key = 1 118
				KEY = 9 0.1
 			}
		
		 	ignitions = 1
		 	ullage = true
		 	pressureFed = false
				 						
		 	IGNITOR_RESOURCE
		 	{
		 		name = ElectricCharge
		 		amount = 0.1
		 	}
 		}
 	}
 
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}

 //Prometheus LR87-3511 "Astoria" Series (bluedog_LR87_11_Single)
@PART[bluedog_LR87_11_Single]:NEEDS[Bluedog_DB&RealFuels&!RealismOverhaul]:FOR[RF-StockTo10x]
{
	@mass = 0.74
	%rescaleFactor = 1.6
	@category = Engine

	@MODULE[ModuleEngine*]
	{
 		@name = ModuleEnginesRF
 		@maxThrust = 1206.6
 		@atmosphereCurve
 	   	{
 			@key,0 = 0 304
 			@key,1 = 1 252
 		}
 		!PROPELLANT[LiquidFuel] {}
 		!PROPELLANT[Oxidizer] {}
 		!PROPELLANT[MonoPropellant] {}
 		
 		PROPELLANT
 		{
 			name = Aerozine50
 			ratio = 1
 			DrawGauge = True
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 		PROPELLANT
 		{
 			name = NTO
 			ratio = 1.98				//1.93 by mass
 			resourceFlowMode = STACK_PRIORITY_SEARCH
 		}
 	}
 	
 	MODULE
 	{
 		name = ModuleEngineConfigs
 		type = ModuleEnginesRF

 		origMass = #$../mass$
 		modded = false
 							
 		configuration = LR87-AJ11a

 		CONFIG
		{
			name = LR87-AJ11a
			maxThrust = 1206.6
		
			PROPELLANT
			{
				name = Aerozine50
				ratio = 1
				DrawGauge = True
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			PROPELLANT
			{
				name = NTO
				ratio = 1.98				//1.93 by mass
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}
			atmosphereCurve
			{
				key = 0 304
				key = 1 252
				KEY = 9 0.1
 			}
		
		 	ignitions = 1
		 	ullage = true
		 	pressureFed = false
				 						
		 	IGNITOR_RESOURCE
		 	{
		 		name = ElectricCharge
		 		amount = 0.1
		 	}
 		}
 	}
 
 	 //Engine configs fullfilled by RealFuels configs, so we can remove B9PartSwitch
 	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]] {}
}